---
import AboutLayout from "@/layouts/AboutLayout.astro";
import Metrics51la from "@/components/Metrics51la.astro";
---

<AboutLayout frontmatter={{ title: "关于我" }}>
  <section id="about" class="mb-28 max-w-app">
  <div class="not-prose grid gap-10 grid-cols-1 md:grid-cols-[1fr,260px] lg:grid-cols-[1fr,280px]">
    <div class="md:col-start-1 min-w-0">
      <div class="mt-8 grid gap-8">
        <section id="about-intro" class="w-full min-w-0 rounded-xl border border-app-border/60 bg-app/30 p-4">
          <h2 class="mb-3 text-xl font-semibold tracking-wide">关于我</h2>
          <div class="space-y-3 text-[15px] leading-7 text-app-dim">
            <p>一名热爱编程的开发者，工作中主要使用java和kotlin编写安卓app，业余时间主要使用 Go 与 rust 构建后端服务，也会用 Vue 和 nextjs 写一点前端。</p>
            <p>工作以外我一直在币圈摸金，写过solidity合约、cairo合约；在defi和meme中来回横跳，也研究过defi协议和meme的玩法。</p>
            <p>钟爱密码学，学过零知识证明和同态加密，研究过zkvm，zk-rollup等。坚信密码学会重铸信用体系。</p>
          </div>
          <div class="mt-4 flex gap-3">
            <a href="mailto:yourmail@gmail.com" class="rounded-md border border-app-border/60 bg-app/30 px-3 py-1.5 text-sm text-app-dim hover:bg-app/60">联系我</a>
            <a href="#sponsor" class="rounded-md border border-app-border/60 bg-app/30 px-3 py-1.5 text-sm text-app-dim hover:bg-app/60">赞助我</a>
          </div>
        </section>
        <section id="my-interests" class="w-full min-w-0 rounded-xl border border-app-border/60 bg-app/30 p-4">
          <h2 class="mb-3 text-xl font-semibold tracking-wide">我的兴趣</h2>
          <div class="text-app-dim">
            <ul class="m-0 flex flex-col gap-2 list-none p-0 w-full min-w-0">
              <li>打篮球（最爱，但是已经跳不起来了）</li>
              <li>玩游戏（LOL骨灰级黑铁玩家、dota2爱好者）</li>
              <li>写代码（java / kotlin /Go / rust / 前端折腾）</li>
              <li>爱研究，好折腾，喜欢和不同的朋友交流讨论</li>
              <li>顶级宅男，但是也想认识更多热爱技术的朋友</li>
            </ul>
          </div>
        </section>

        

        <section id="my-skills" class="w-full min-w-0 rounded-xl border border-app-border/60 bg-app/30 p-4">
          <h2 class="mb-3 text-xl font-semibold tracking-wide">我的技能</h2>
          <div class="mb-2 text-sm">语言</div>
          <div class="mb-4 flex flex-wrap gap-2">
            {['JavaScript','TypeScript','Go','rust','java','kotlin','Shell'].map(s => (
              <span class="rounded-full border border-app-border/60 bg-app/30 px-3 py-1 text-xs text-app-dim">{s}</span>
            ))}
          </div>
          <div class="mb-2 text-sm">前端</div>
          <div class="mb-4 flex flex-wrap gap-2">
            {['Vite','Vue','nextJS','TailwindCSS','Android'].map(s => (
              <span class="rounded-full border border-app-border/60 bg-app/30 px-3 py-1 text-xs text-app-dim">{s}</span>
            ))}
          </div>
          <div class="mb-2 text-sm">区块链</div>
          <div class="flex flex-wrap gap-2">
            {['solidity','cairo','zkvm','zk-rollup','fhe'].map(s => (
              <span class="rounded-full border border-app-border/60 bg-app/30 px-3 py-1 text-xs text-app-dim">{s}</span>
            ))}
          </div>
        </section>

        <section id="stats" class="w-full min-w-0 rounded-xl border border-app-border/60 bg-app/30 p-4">
          <h2 class="mb-3 text-xl font-semibold tracking-wide">访问统计</h2>
          <Metrics51la/>
        </section>
      </div>
      <div class="mt-8 text-xs text-app-dim">页面参考：<a class="underline decoration-dashed underline-offset-4 hover:text-accent" href="https://hejunjie.life/about/" target="_blank" rel="noreferrer">关于我</a></div>
    </div>

    <aside class="md:col-start-2">
      <div class="sticky  rounded-xl border border-app-border/60 bg-app/30 p-3">
        <div class="mb-2 text-sm font-semibold tracking-wide">目录</div>
        <ul id="toc-links" class="m-0 list-none space-y-2 p-0 text-sm">
          <li><a data-spy href="#my-interests" class="block rounded-lg px-3 py-2 text-app-dim hover:bg-app/50">我的兴趣</a></li>
          <li><a data-spy href="#my-work" class="block rounded-lg px-3 py-2 text-app-dim hover:bg-app/50">我的工作</a></li>
          <li><a data-spy href="#my-skills" class="block rounded-lg px-3 py-2 text-app-dim hover:bg-app/50">我的技能</a></li>
          <li><a data-spy href="#stats" class="block rounded-lg px-3 py-2 text-app-dim hover:bg-app/50">访问统计</a></li>
        </ul>
      </div>
    </aside>
  </div>
  </section>
</AboutLayout>

<script>
  const links = Array.from(document.querySelectorAll('#toc-links a[data-spy]')) as HTMLAnchorElement[];
  const sections = links
    .map(a => document.querySelector(a.getAttribute('href')!) as HTMLElement)
    .filter(Boolean);

  if (links.length && sections.length) {
    const observer = new IntersectionObserver(
      entries => {
        entries.forEach(entry => {
          const id = `#${entry.target.id}`;
          const link = links.find(a => a.getAttribute('href') === id);
          if (!link) return;
          if (entry.isIntersecting) {
            links.forEach(l => l.classList.remove('bg-app/60','text-white'));
            link.classList.add('bg-app/60','text-white');
          }
        });
      },
      { rootMargin: '-30% 0px -60% 0px', threshold: 0.1 }
    );
    sections.forEach(sec => observer.observe(sec));
  }
</script>


